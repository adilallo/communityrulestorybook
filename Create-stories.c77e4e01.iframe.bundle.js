"use strict";(self.webpackChunkcommunity_rule=self.webpackChunkcommunity_rule||[]).push([[5867],{"./app/components/Stepper/index.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>Stepper_container});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");function StepperView({active,totalSteps,className,stepperClasses}){return(0,jsx_runtime.jsx)("div",{className:`${stepperClasses} ${className}`,role:"progressbar","aria-valuenow":active,"aria-valuemin":1,"aria-valuemax":totalSteps,"aria-label":`Step ${active} of ${totalSteps}`,children:Array.from({length:totalSteps},(_,index)=>{const stepNumber=index+1,isActive=stepNumber===active;return(0,jsx_runtime.jsx)("div",{className:"shrink-0 w-[12px] h-[12px] flex items-center justify-center",children:(0,jsx_runtime.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:isActive?"opacity-100":"opacity-30",children:(0,jsx_runtime.jsx)("circle",{cx:"6",cy:"6",r:"5.5",fill:"var(--color-surface-inverse-secondary)",stroke:"var(--color-surface-inverse-secondary)",strokeWidth:"1"})})},stepNumber)})})}StepperView.__docgenInfo={description:"",methods:[],displayName:"StepperView",props:{active:{required:!0,tsType:{name:"number"},description:""},totalSteps:{required:!0,tsType:{name:"number"},description:""},className:{required:!0,tsType:{name:"string"},description:""},stepperClasses:{required:!0,tsType:{name:"string"},description:""}}};const StepperContainer=(0,react.memo)(({active=1,totalSteps=5,className=""})=>(0,jsx_runtime.jsx)(StepperView,{active,totalSteps,className,stepperClasses:"flex gap-[var(--spacing-scale-012)] items-center relative"}));StepperContainer.displayName="Stepper";const Stepper_container=StepperContainer;StepperContainer.__docgenInfo={description:"",methods:[],displayName:"Stepper",props:{active:{defaultValue:{value:"1",computed:!1},required:!1},totalSteps:{defaultValue:{value:"5",computed:!1},required:!1},className:{defaultValue:{value:'""',computed:!1},required:!1}}}},"./app/contexts/MessagesContext.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Bd:()=>useTranslation});__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js");var _barrel_optimize_names_createContext_useContext_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const MessagesContext=(0,_barrel_optimize_names_createContext_useContext_react__WEBPACK_IMPORTED_MODULE_1__.createContext)(null);function getTranslationValue(messages,key){const keys=key.split(".");let value=messages;for(const k of keys){if(!value||"object"!=typeof value||!(k in value))return key;value=value[k]}return"string"==typeof value?value:key}function useTranslation(namespace){const messages=function useMessages(){const messages=(0,_barrel_optimize_names_createContext_useContext_react__WEBPACK_IMPORTED_MODULE_1__.useContext)(MessagesContext);if(!messages)throw new Error("useMessages must be used within MessagesProvider");return messages}();return key=>{if(namespace){return getTranslationValue(messages,`${namespace}.${key}`)}return getTranslationValue(messages,key)}}},"./stories/Create.stories.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,NextButtonDisabled:()=>NextButtonDisabled,Step2:()=>Step2,Step3:()=>Step3,WithStepper:()=>WithStepper,WithoutFooter:()=>WithoutFooter,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Create_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),react_dom=__webpack_require__("./node_modules/next/dist/compiled/react-dom/index.js"),ContentLockup=__webpack_require__("./app/components/ContentLockup/index.tsx"),MessagesContext=__webpack_require__("./app/contexts/MessagesContext.tsx"),Button=__webpack_require__("./app/components/Button.tsx"),Stepper=__webpack_require__("./app/components/Stepper/index.tsx");function ModalFooterView({showBackButton=!1,showNextButton=!1,onBack,onNext,backButtonText,nextButtonText,nextButtonDisabled=!1,currentStep,totalSteps,footerContent,className=""}){const t=(0,MessagesContext.Bd)("common"),defaultBackText=backButtonText||t("buttons.back"),defaultNextText=nextButtonText||t("buttons.next");return(0,jsx_runtime.jsxs)("div",{className:`h-[64px] bg-[var(--color-surface-default-primary)] rounded-bl-[var(--radius-300,12px)] rounded-br-[var(--radius-300,12px)] shrink-0 relative ${className}`,children:[showBackButton&&(0,jsx_runtime.jsx)("div",{className:"absolute left-[16px] top-[12px]",children:(0,jsx_runtime.jsx)(Button.A,{variant:"outlined",size:"medium",onClick:onBack,children:defaultBackText})}),currentStep&&totalSteps&&(0,jsx_runtime.jsx)("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:(0,jsx_runtime.jsx)(Stepper.A,{active:currentStep,totalSteps})}),showNextButton&&(0,jsx_runtime.jsx)("div",{className:"absolute right-[16px] top-[12px]",children:(0,jsx_runtime.jsx)(Button.A,{variant:"default",size:"medium",onClick:onNext,disabled:nextButtonDisabled,children:defaultNextText})}),footerContent]})}ModalFooterView.__docgenInfo={description:"",methods:[],displayName:"ModalFooterView",props:{showBackButton:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},showNextButton:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onBack:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onNext:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},backButtonText:{required:!1,tsType:{name:"string"},description:'Custom back button text. If not provided, uses localized "Back" from common.json'},nextButtonText:{required:!1,tsType:{name:"string"},description:'Custom next button text. If not provided, uses localized "Next" from common.json'},nextButtonDisabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},currentStep:{required:!1,tsType:{name:"number"},description:""},totalSteps:{required:!1,tsType:{name:"number"},description:""},footerContent:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}}}};var assetUtils=__webpack_require__("./lib/assetUtils.ts");function ModalHeaderView({onClose,onMoreOptions,showCloseButton=!0,showMoreOptionsButton=!0,className=""}){return(0,jsx_runtime.jsxs)("div",{className:`border-b border-[var(--color-border-default-secondary)] h-[48px] shrink-0 sticky top-0 bg-[var(--color-surface-default-primary)] z-[2] ${className}`,children:[showCloseButton&&(0,jsx_runtime.jsx)("button",{onClick:onClose,className:"absolute bg-[var(--color-surface-default-secondary)] h-[24px] w-[24px] rounded-full left-[24px] top-[12px] flex items-center justify-center cursor-pointer","aria-label":"Close dialog",children:(0,jsx_runtime.jsx)("img",{src:(0,assetUtils.O)("assets/Icon_Close.svg"),alt:"",className:"w-[16px] h-[16px]",style:{filter:"brightness(0) invert(1)"}})}),showMoreOptionsButton&&(0,jsx_runtime.jsx)("button",{onClick:onMoreOptions,className:"absolute bg-[var(--color-surface-default-secondary)] h-[24px] w-[24px] rounded-full right-[24px] top-[12px] flex items-center justify-center cursor-pointer","aria-label":"More options",children:(0,jsx_runtime.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,jsx_runtime.jsx)("circle",{cx:"4",cy:"8",r:"1.5",fill:"white"}),(0,jsx_runtime.jsx)("circle",{cx:"8",cy:"8",r:"1.5",fill:"white"}),(0,jsx_runtime.jsx)("circle",{cx:"12",cy:"8",r:"1.5",fill:"white"})]})})]})}function CreateView({isOpen,onClose,title,description,children,footerContent,showBackButton,showNextButton,onBack,onNext,backButtonText,nextButtonText,nextButtonDisabled,currentStep,totalSteps,className,ariaLabel,ariaLabelledBy,createRef,overlayRef}){if(!isOpen)return null;const createContent=(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{ref:overlayRef,className:"fixed inset-0 bg-black/50 z-[9998]",onClick:onClose,"aria-hidden":"true"}),(0,jsx_runtime.jsxs)("div",{ref:createRef,role:"dialog","aria-modal":"true","aria-label":ariaLabel,"aria-labelledby":ariaLabelledBy,className:`fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-[var(--color-surface-default-primary)] rounded-[var(--radius-500,20px)] shadow-[0px_0px_48px_0px_rgba(0,0,0,0.1)] w-[560px] max-h-[728px] flex flex-col overflow-hidden z-[9999] ${className}`,children:[(0,jsx_runtime.jsx)(ModalHeaderView,{onClose,onMoreOptions:onClose}),(title||description)&&(0,jsx_runtime.jsx)("div",{className:"bg-[var(--color-surface-default-primary)] px-[24px] py-[12px] shrink-0 sticky top-[48px] z-[2]",children:(0,jsx_runtime.jsx)(ContentLockup.A,{title,description,variant:"modal",alignment:"left"})}),(0,jsx_runtime.jsx)("div",{className:"flex flex-col gap-[var(--spacing-scale-024)] px-[24px] pb-[96px] overflow-x-clip overflow-y-auto relative shrink-0 flex-1",children}),(0,jsx_runtime.jsx)(ModalFooterView,{showBackButton,showNextButton,onBack,onNext,backButtonText,nextButtonText,nextButtonDisabled,currentStep,totalSteps,footerContent})]})]});return(0,react_dom.createPortal)(createContent,document.body)}ModalHeaderView.__docgenInfo={description:"",methods:[],displayName:"ModalHeaderView",props:{onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onMoreOptions:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},showCloseButton:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},showMoreOptionsButton:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}}}};const CreateContainer=(0,react.memo)(({isOpen,onClose,title,description,children,footerContent,showBackButton=!0,showNextButton=!0,onBack,onNext,backButtonText="Back",nextButtonText="Next",nextButtonDisabled=!1,currentStep,totalSteps,className="",ariaLabel,ariaLabelledBy})=>{const createRef=(0,react.useRef)(null),overlayRef=(0,react.useRef)(null),previousActiveElementRef=(0,react.useRef)(null);return(0,react.useEffect)(()=>{if(!isOpen)return;const handleEscape=e=>{"Escape"===e.key&&onClose()};return document.addEventListener("keydown",handleEscape),()=>{document.removeEventListener("keydown",handleEscape)}},[isOpen,onClose]),(0,react.useEffect)(()=>{if(!isOpen)return;if(previousActiveElementRef.current=document.activeElement,document.body.style.overflow="hidden",createRef.current){const firstElement=createRef.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')[0];firstElement?firstElement.focus():(createRef.current.setAttribute("tabindex","-1"),createRef.current.focus())}const handleTab=e=>{if("Tab"!==e.key||!createRef.current)return;const focusableElements=createRef.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),firstElement=focusableElements[0],lastElement=focusableElements[focusableElements.length-1];e.shiftKey?document.activeElement===firstElement&&(e.preventDefault(),lastElement?.focus()):document.activeElement===lastElement&&(e.preventDefault(),firstElement?.focus())};return document.addEventListener("keydown",handleTab),()=>{document.body.style.overflow="",document.removeEventListener("keydown",handleTab),previousActiveElementRef.current?.focus()}},[isOpen]),(0,jsx_runtime.jsx)(CreateView,{isOpen,onClose,title,description,children,footerContent,showBackButton,showNextButton,onBack,onNext,backButtonText,nextButtonText,nextButtonDisabled,currentStep,totalSteps,className,ariaLabel,ariaLabelledBy,createRef,overlayRef})});CreateContainer.displayName="Create";const Create_container=CreateContainer;CreateContainer.__docgenInfo={description:"",methods:[],displayName:"Create",props:{showBackButton:{defaultValue:{value:"true",computed:!1},required:!1},showNextButton:{defaultValue:{value:"true",computed:!1},required:!1},backButtonText:{defaultValue:{value:'"Back"',computed:!1},required:!1},nextButtonText:{defaultValue:{value:'"Next"',computed:!1},required:!1},nextButtonDisabled:{defaultValue:{value:"false",computed:!1},required:!1},className:{defaultValue:{value:'""',computed:!1},required:!1}}};var Input=__webpack_require__("./app/components/Input/index.tsx");const Create_stories={title:"Components/Create",component:Create_container,parameters:{layout:"fullscreen",docs:{description:{component:"Create dialog component with portal rendering, keyboard navigation, and focus trap. Supports multi-step workflows with stepper integration. Used for the create flow in the application."}}},argTypes:{isOpen:{control:{type:"boolean"}},title:{control:{type:"text"}},description:{control:{type:"text"}},showBackButton:{control:{type:"boolean"}},showNextButton:{control:{type:"boolean"}},nextButtonDisabled:{control:{type:"boolean"}},currentStep:{control:{type:"number",min:1,max:5}},totalSteps:{control:{type:"number",min:1,max:5}}},tags:["autodocs"]},Template=args=>{const[isOpen,setIsOpen]=(0,react.useState)(args.isOpen||!1);return(0,jsx_runtime.jsxs)("div",{className:"p-8",children:[(0,jsx_runtime.jsx)("button",{onClick:()=>setIsOpen(!0),className:"px-4 py-2 bg-blue-500 text-white rounded",children:"Open Create Dialog"}),(0,jsx_runtime.jsx)(Create_container,{...args,isOpen,onClose:()=>setIsOpen(!1),children:args.children})]})},Default=Template.bind({});Default.args={isOpen:!0,title:"What do you call your group's new policy?",description:"You can also combine or add new approaches to the list",children:(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[(0,jsx_runtime.jsx)(Input.A,{label:"Label",placeholder:"Policy name",value:""}),(0,jsx_runtime.jsx)("p",{className:"text-[12px] text-[var(--color-content-default-tertiary)]",children:"0/48"})]}),showBackButton:!0,showNextButton:!0,backButtonText:"Back",nextButtonText:"Next",nextButtonDisabled:!1};const WithStepper=Template.bind({});WithStepper.args={isOpen:!0,title:"What do you call your group's new policy?",description:"You can also combine or add new approaches to the list",children:(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[(0,jsx_runtime.jsx)(Input.A,{label:"Label",placeholder:"Policy name",value:""}),(0,jsx_runtime.jsx)("p",{className:"text-[12px] text-[var(--color-content-default-tertiary)]",children:"0/48"})]}),showBackButton:!0,showNextButton:!0,backButtonText:"Back",nextButtonText:"Next",nextButtonDisabled:!1,currentStep:1,totalSteps:3};const Step2=Template.bind({});Step2.args={isOpen:!0,title:"How should conflicts be resolved?",description:"You can also combine or add new approaches to the list",children:(0,jsx_runtime.jsx)("div",{className:"space-y-4",children:(0,jsx_runtime.jsx)(Input.A,{label:"Label",placeholder:"Enter text",value:""})}),showBackButton:!0,showNextButton:!0,backButtonText:"Back",nextButtonText:"Next",nextButtonDisabled:!1,currentStep:2,totalSteps:3};const Step3=Template.bind({});Step3.args={isOpen:!0,title:"Final step",description:"Review your settings",children:(0,jsx_runtime.jsx)("div",{className:"space-y-4",children:(0,jsx_runtime.jsx)("p",{className:"text-[var(--color-content-default-primary)]",children:"Review your policy configuration"})}),showBackButton:!0,showNextButton:!0,backButtonText:"Back",nextButtonText:"Finish",nextButtonDisabled:!1,currentStep:3,totalSteps:3};const WithoutFooter=Template.bind({});WithoutFooter.args={isOpen:!0,title:"Simple Create Dialog",description:"This create dialog has no footer buttons",children:(0,jsx_runtime.jsx)("div",{className:"space-y-4",children:(0,jsx_runtime.jsx)("p",{className:"text-[var(--color-content-default-primary)]",children:"Modal content without footer"})}),showBackButton:!1,showNextButton:!1};const NextButtonDisabled=Template.bind({});NextButtonDisabled.args={isOpen:!0,title:"What do you call your group's new policy?",description:"You can also combine or add new approaches to the list",children:(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[(0,jsx_runtime.jsx)(Input.A,{label:"Label",placeholder:"Policy name",value:""}),(0,jsx_runtime.jsx)("p",{className:"text-[12px] text-[var(--color-content-default-tertiary)]",children:"0/48"})]}),showBackButton:!0,showNextButton:!0,backButtonText:"Back",nextButtonText:"Next",nextButtonDisabled:!0,currentStep:1,totalSteps:3};const __namedExportsOrder=["Default","WithStepper","Step2","Step3","WithoutFooter","NextButtonDisabled"]}}]);