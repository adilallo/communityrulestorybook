import{j as e,r as k}from"./iframe-DnidsufN.js";import{n as N}from"./image-BAhie9Pt.js";import"./preload-helper-BRgZCzxC.js";const j=({className:r=""})=>e.jsx("svg",{className:`text-[var(--color-surface-inverse-brand-primary)] opacity-100 w-full h-full md:max-w-[640px] lg:max-w-[850px] xl:max-w-[1100px] ${r}`,viewBox:"400 0 442 163","aria-hidden":"true",overflow:"visible",preserveAspectRatio:"xMinYMin meet",children:e.jsxs("g",{fill:"currentColor",children:[e.jsxs("g",{className:"md:hidden",children:[e.jsx("ellipse",{cx:"490",cy:"80",rx:"300",ry:"100",transform:"rotate(-20 600 90)"}),e.jsx("ellipse",{cx:"508",cy:"250",rx:"300",ry:"110",transform:"rotate(-25 600 90)"}),e.jsx("ellipse",{cx:"550",cy:"420",rx:"300",ry:"120",transform:"rotate(-25 600 90)"})]}),e.jsxs("g",{className:"hidden md:block",children:[e.jsx("ellipse",{cx:"590",cy:"70",rx:"300",ry:"110",transform:"rotate(-30 600 90)"}),e.jsx("ellipse",{cx:"680",cy:"250",rx:"300",ry:"110",transform:"rotate(-30 600 90)"}),e.jsx("ellipse",{cx:"670",cy:"400",rx:"300",ry:"120",transform:"rotate(-30 600 90)"})]})]})});j.__docgenInfo={description:"",methods:[],displayName:"QuoteDecor",props:{className:{defaultValue:{value:'""',computed:!1},required:!1}}};const s=({variant:r="standard",className:q="",quote:d="The rules of decision-making must be open and available to everyone, and this can happen only if they are formalized.",author:t="Jo Freeman",source:u="The Tyranny of Structurelessness",avatarSrc:m="assets/Quote_Avatar.svg",id:S,fallbackAvatarSrc:A="assets/Quote_Avatar.svg",onError:n})=>{const[p,g]=k.useState(!1),[x,v]=k.useState(!0),f={compact:{container:"py-[var(--spacing-scale-032)] px-[var(--spacing-scale-016)]",card:"py-[var(--spacing-scale-032)] px-[var(--spacing-scale-016)] md:py-[var(--spacing-scale-040)] md:px-[var(--spacing-scale-024)] rounded-[var(--radius-measures-radius-small)]",gap:"gap-[var(--spacing-scale-016)] md:gap-[var(--spacing-scale-024)]",avatarGap:"gap-[var(--spacing-scale-012)]",avatar:"w-[48px] h-[48px] md:w-[64px] md:h-[64px]",quote:"text-[16px] leading-[120%] md:text-[20px] md:leading-[110%]",author:"text-[10px] leading-[120%] md:text-[12px]",source:"text-[10px] leading-[120%] md:text-[12px]",showDecor:!1},standard:{container:"md:py-[var(--spacing-scale-032)] md:px-[var(--spacing-scale-016)] lg:p-[var(--spacing-scale-064)]",card:"py-[var(--spacing-scale-064)] px-[var(--spacing-scale-020)] md:py-[var(--spacing-scale-064)] md:px-[var(--spacing-scale-048)] md:rounded-[var(--radius-measures-radius-medium)] lg:py-[var(--spacing-scale-064)] lg:pl-[120px] lg:pr-[320px]",gap:"gap-[var(--spacing-scale-024)] md:gap-[var(--spacing-scale-048)] lg:gap-[var(--spacing-scale-064)] xl:gap-[105px]",avatarGap:"gap-[var(--spacing-scale-020)] lg:gap-[var(--spacing-scale-018)] xl:gap-[var(--spacing-scale-032)]",avatar:"md:w-[120px] md:h-[120px] lg:w-[150px] lg:h-[150px] xl:w-[200px] xl:h-[200px]",quote:"text-[18px] leading-[120%] md:text-[36px] md:leading-[110%] md:tracking-[0px] lg:text-[52px] xl:text-[64px]",author:"text-[12px] leading-[120%] md:text-[18px] md:leading-[120%] md:tracking-[0.24px] lg:text-[24px] xl:text-[32px]",source:"text-[12px] leading-[120%] md:text-[18px] md:leading-[120%] md:tracking-[0.24px] lg:text-[24px] xl:text-[32px]",showDecor:!0},extended:{container:"py-[var(--spacing-scale-048)] px-[var(--spacing-scale-024)] md:py-[var(--spacing-scale-064)] md:px-[var(--spacing-scale-032)] lg:py-[var(--spacing-scale-080)] lg:px-[var(--spacing-scale-048)]",card:"py-[var(--spacing-scale-080)] px-[var(--spacing-scale-032)] md:py-[var(--spacing-scale-096)] md:px-[var(--spacing-scale-064)] md:rounded-[var(--radius-measures-radius-large)] lg:py-[var(--spacing-scale-112)] lg:pl-[160px] lg:pr-[400px]",gap:"gap-[var(--spacing-scale-032)] md:gap-[var(--spacing-scale-064)] lg:gap-[var(--spacing-scale-080)] xl:gap-[140px]",avatarGap:"gap-[var(--spacing-scale-032)] lg:gap-[var(--spacing-scale-040)] xl:gap-[var(--spacing-scale-048)]",avatar:"w-[80px] h-[80px] md:w-[140px] md:h-[140px] lg:w-[180px] lg:h-[180px] xl:w-[240px] xl:h-[240px]",quote:"text-[20px] leading-[120%] md:text-[40px] md:leading-[110%] md:tracking-[0px] lg:text-[60px] xl:text-[72px]",author:"text-[14px] leading-[120%] md:text-[20px] md:leading-[120%] md:tracking-[0.24px] lg:text-[28px] xl:text-[36px]",source:"text-[14px] leading-[120%] md:text-[20px] md:leading-[120%] md:tracking-[0.24px] lg:text-[28px] xl:text-[36px]",showDecor:!0}},a=f[r]||f.standard,h=S||`quote-${t.toLowerCase().replace(/\s+/g,"-")}`,y=`${h}-content`,b=`${h}-author`,T=o=>{console.warn(`QuoteBlock: Failed to load avatar image for ${t}:`,o),g(!0),v(!1),n&&n({type:"image_load_error",message:`Failed to load avatar for ${t}`,author:t,avatarSrc:m,error:o})},w=()=>{v(!1),g(!1)};return!d||!t?(console.error("QuoteBlock: Missing required props (quote or author)"),n&&n({type:"missing_props",message:"QuoteBlock requires quote and author props",quote:!!d,author:!!t}),null):e.jsx("section",{className:`${a.container} ${q}`,"aria-labelledby":y,role:"region",children:e.jsxs("div",{className:`${a.card} bg-[var(--color-surface-default-brand-darker-accent)] relative overflow-hidden`,children:[e.jsx("div",{className:"absolute inset-0 bg-[var(--color-surface-default-brand-darker-accent)]",style:{filter:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg"><defs><filter id="grain" filterUnits="objectBoundingBox" x="0" y="0" width="1" height="1" colorInterpolationFilters="sRGB"><feTurbulence type="fractalNoise" baseFrequency="0.4" numOctaves="3" seed="7" stitchTiles="stitch" result="noise"/><feColorMatrix in="noise" result="softNoise" type="matrix" values="0.8 0 0 0 0.3 0 0.6 0 0 0.2 0 0 1.0 0 0.4 0 0 0 0.25 0"/><feComposite in="softNoise" in2="SourceAlpha" operator="in" result="maskedNoise"/><feBlend in="SourceGraphic" in2="maskedNoise" mode="multiply"/></filter></defs></svg>#grain')`}}),a.showDecor&&e.jsx(j,{className:"pointer-events-none absolute z-0 left-0 top-0 w-full h-full","aria-hidden":"true"}),e.jsxs("div",{className:`flex flex-col ${a.gap} relative z-10`,children:[e.jsxs("div",{className:`flex flex-col ${a.avatarGap}`,children:[e.jsxs("div",{className:"relative",children:[p?null:e.jsx(N,{src:m,alt:`Portrait of ${t}`,width:64,height:64,className:`filter sepia ${a.avatar} transition-opacity duration-300 ${x?"opacity-0":"opacity-100"}`,loading:"lazy",onError:T,onLoad:w}),x&&!p&&e.jsx("div",{className:`absolute inset-0 bg-gray-200 animate-pulse rounded-full ${a.avatar}`}),p&&e.jsx("div",{className:`flex items-center justify-center bg-gray-300 rounded-full ${a.avatar} text-gray-600 font-bold`,children:e.jsx("span",{className:"text-sm md:text-base lg:text-lg xl:text-xl",children:t.split(" ").map(o=>o[0]).join("").toUpperCase()})})]}),e.jsx("blockquote",{id:y,"aria-labelledby":b,className:"relative",children:e.jsx("p",{"data-qopen":"“","data-qclose":"”",className:["font-bricolage-grotesque font-normal",a.quote,"text-[var(--color-content-inverse-primary)]","pl-[0.6em] -indent-[0.6em]","relative before:content-[attr(data-qopen)] after:content-[attr(data-qclose)]","before:[font-family:var(--font-bricolage-grotesque)]","after:[font-family:var(--font-bricolage-grotesque)]"].join(" "),children:d})})]}),e.jsxs("footer",{className:"flex flex-col gap-[var(--spacing-scale-008)] md:gap-[var(--spacing-scale-012)] xl:gap-[var(--spacing-scale-020)]",children:[e.jsx("cite",{id:b,className:`font-inter font-normal ${a.author} text-[var(--color-content-inverse-primary)] uppercase not-italic`,children:t}),u&&e.jsx("p",{"data-qopen":"“","data-qclose":"”",className:["font-inter font-normal",a.source,"text-[var(--color-content-inverse-primary)] uppercase","pl-[0.6em] -indent-[0.6em]","relative before:content-[attr(data-qopen)] after:content-[attr(data-qclose)]","before:[font-family:var(--font-inter)] after:[font-family:var(--font-inter)]"].join(" "),children:u})]})]})]})})};s.__docgenInfo={description:"",methods:[],displayName:"QuoteBlock",props:{variant:{defaultValue:{value:'"standard"',computed:!1},required:!1},className:{defaultValue:{value:'""',computed:!1},required:!1},quote:{defaultValue:{value:'"The rules of decision-making must be open and available to everyone, and this can happen only if they are formalized."',computed:!1},required:!1},author:{defaultValue:{value:'"Jo Freeman"',computed:!1},required:!1},source:{defaultValue:{value:'"The Tyranny of Structurelessness"',computed:!1},required:!1},avatarSrc:{defaultValue:{value:'"assets/Quote_Avatar.svg"',computed:!1},required:!1},fallbackAvatarSrc:{defaultValue:{value:'"assets/Quote_Avatar.svg"',computed:!1},required:!1}}};const F={title:"Components/QuoteBlock",component:s,parameters:{layout:"fullscreen",docs:{description:{component:`
A responsive quote section component that displays inspirational governance quotes with author attribution and decorative geometric elements.

## Features
- **Three variants**: compact, standard, and extended layouts
- **Responsive design**: Adapts across all breakpoints
- **Error handling**: Graceful fallbacks for image loading failures
- **Accessibility**: WCAG 2.1 AA compliant with proper ARIA labels
- **Design system integration**: Uses design tokens for consistent styling

## Usage
\`\`\`jsx
<QuoteBlock 
  variant="standard"
  quote="Your quote text here..."
  author="Author Name"
  source="Source Title"
  avatarSrc="path/to/avatar.jpg"
/>
\`\`\`
        `}}},argTypes:{variant:{control:{type:"select"},options:["compact","standard","extended"],description:"Layout variant for different use cases"},quote:{control:{type:"text"},description:"The quote text to display"},author:{control:{type:"text"},description:"Author name for attribution"},source:{control:{type:"text"},description:"Source title (book, article, etc.)"},avatarSrc:{control:{type:"text"},description:"Path to author avatar image"},fallbackAvatarSrc:{control:{type:"text"},description:"Fallback avatar image path"},onError:{action:"error",description:"Error callback function"}}},l={args:{variant:"standard",quote:"The rules of decision-making must be open and available to everyone, and this can happen only if they are formalized.",author:"Jo Freeman",source:"The Tyranny of Structurelessness",avatarSrc:"assets/Quote_Avatar.svg"}},i={render:()=>e.jsxs("div",{className:"space-y-8 p-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Compact Variant"}),e.jsx(s,{variant:"compact",quote:"The rules of decision-making must be open and available to everyone.",author:"Jo Freeman",source:"The Tyranny of Structurelessness",avatarSrc:"assets/Quote_Avatar.svg"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Standard Variant"}),e.jsx(s,{variant:"standard",quote:"The rules of decision-making must be open and available to everyone, and this can happen only if they are formalized.",author:"Jo Freeman",source:"The Tyranny of Structurelessness",avatarSrc:"assets/Quote_Avatar.svg"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Extended Variant"}),e.jsx(s,{variant:"extended",quote:"The rules of decision-making must be open and available to everyone, and this can happen only if they are formalized.",author:"Jo Freeman",source:"The Tyranny of Structurelessness",avatarSrc:"assets/Quote_Avatar.svg"})]})]}),parameters:{docs:{description:{story:"Side-by-side comparison of all three variants to show the differences in layout, typography, and spacing."}}}},c={args:{variant:"standard",quote:"The rules of decision-making must be open and available to everyone, and this can happen only if they are formalized.",author:"Jo Freeman",source:"The Tyranny of Structurelessness",avatarSrc:"invalid-image-path.jpg",onError:r=>console.log("QuoteBlock error:",r)},parameters:{docs:{description:{story:"Error state when avatar image fails to load. Shows initials fallback and error handling."}}}};l.parameters={...l.parameters,docs:{...l.parameters?.docs,source:{originalSource:`{
  args: {
    variant: "standard",
    quote: "The rules of decision-making must be open and available to everyone, and this can happen only if they are formalized.",
    author: "Jo Freeman",
    source: "The Tyranny of Structurelessness",
    avatarSrc: "assets/Quote_Avatar.svg"
  }
}`,...l.parameters?.docs?.source}}};i.parameters={...i.parameters,docs:{...i.parameters?.docs,source:{originalSource:`{
  render: () => <div className="space-y-8 p-4">
      <div>
        <h3 className="text-lg font-bold mb-4">Compact Variant</h3>
        <QuoteBlock variant="compact" quote="The rules of decision-making must be open and available to everyone." author="Jo Freeman" source="The Tyranny of Structurelessness" avatarSrc="assets/Quote_Avatar.svg" />
      </div>

      <div>
        <h3 className="text-lg font-bold mb-4">Standard Variant</h3>
        <QuoteBlock variant="standard" quote="The rules of decision-making must be open and available to everyone, and this can happen only if they are formalized." author="Jo Freeman" source="The Tyranny of Structurelessness" avatarSrc="assets/Quote_Avatar.svg" />
      </div>

      <div>
        <h3 className="text-lg font-bold mb-4">Extended Variant</h3>
        <QuoteBlock variant="extended" quote="The rules of decision-making must be open and available to everyone, and this can happen only if they are formalized." author="Jo Freeman" source="The Tyranny of Structurelessness" avatarSrc="assets/Quote_Avatar.svg" />
      </div>
    </div>,
  parameters: {
    docs: {
      description: {
        story: "Side-by-side comparison of all three variants to show the differences in layout, typography, and spacing."
      }
    }
  }
}`,...i.parameters?.docs?.source}}};c.parameters={...c.parameters,docs:{...c.parameters?.docs,source:{originalSource:`{
  args: {
    variant: "standard",
    quote: "The rules of decision-making must be open and available to everyone, and this can happen only if they are formalized.",
    author: "Jo Freeman",
    source: "The Tyranny of Structurelessness",
    avatarSrc: "invalid-image-path.jpg",
    // This will trigger error state
    onError: error => console.log("QuoteBlock error:", error)
  },
  parameters: {
    docs: {
      description: {
        story: "Error state when avatar image fails to load. Shows initials fallback and error handling."
      }
    }
  }
}`,...c.parameters?.docs?.source}}};const $=["Default","AllVariants","ErrorState"];export{i as AllVariants,l as Default,c as ErrorState,$ as __namedExportsOrder,F as default};
