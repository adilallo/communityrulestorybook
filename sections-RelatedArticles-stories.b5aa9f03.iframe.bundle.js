"use strict";(self.webpackChunkcommunity_rule=self.webpackChunkcommunity_rule||[]).push([[7672],{"./app/components/content/ContentThumbnailTemplate/index.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>ContentThumbnailTemplate_container});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),assetUtils=__webpack_require__("./lib/assetUtils.ts"),next_link=__webpack_require__("./node_modules/next/link.js"),link_default=__webpack_require__.n(next_link),ContentContainer=__webpack_require__("./app/components/content/ContentContainer/index.tsx");function ContentThumbnailTemplateView({post,className,variant,backgroundImage}){return"vertical"===variant?(0,jsx_runtime.jsx)(link_default(),{href:`/blog/${post.slug}`,className:`block transition-transform duration-200 hover:scale-[1.02] ${className}`,children:(0,jsx_runtime.jsxs)("div",{className:"relative w-full aspect-[2/3] overflow-hidden pt-[18px] pl-[18px] pr-[42px] pb-[212px]",children:[(0,jsx_runtime.jsxs)("div",{className:"absolute inset-0 z-0",children:[(0,jsx_runtime.jsx)("img",{src:backgroundImage,alt:`Background for ${post.frontmatter.title}`,className:"w-full h-full object-cover"}),(0,jsx_runtime.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/60 z-10"})]}),(0,jsx_runtime.jsx)(ContentContainer.A,{post,width:"200px",size:"xs"})]})}):(0,jsx_runtime.jsx)(link_default(),{href:`/blog/${post.slug}`,className:`block transition-transform duration-200 hover:scale-[1.02] ${className}`,children:(0,jsx_runtime.jsxs)("div",{className:"relative min-w-[320px] max-w-[800px] h-[225.5px] overflow-hidden pt-[13.75px] pr-[76px] pb-[73.75px] pl-[14px]",children:[(0,jsx_runtime.jsxs)("div",{className:"absolute inset-0 z-0",children:[(0,jsx_runtime.jsx)("img",{src:backgroundImage,alt:`Background for ${post.frontmatter.title}`,className:"w-full h-[225.5px] object-cover"}),(0,jsx_runtime.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-transparent to-black/70 z-10"})]}),(0,jsx_runtime.jsx)(ContentContainer.A,{post,width:"230px",size:"xs"})]})})}ContentThumbnailTemplateView.displayName="ContentThumbnailTemplateView";const ContentThumbnailTemplate_view=(0,react.memo)(ContentThumbnailTemplateView);ContentThumbnailTemplateView.__docgenInfo={description:"",methods:[],displayName:"ContentThumbnailTemplateView",props:{post:{required:!0,tsType:{name:"BlogPost"},description:""},className:{required:!0,tsType:{name:"string"},description:""},variant:{required:!0,tsType:{name:"union",raw:'"vertical" | "horizontal"',elements:[{name:"literal",value:'"vertical"'},{name:"literal",value:'"horizontal"'}]},description:""},backgroundImage:{required:!0,tsType:{name:"string"},description:""}}};var propNormalization=__webpack_require__("./lib/propNormalization.ts");const ContentThumbnailTemplateContainer=(0,react.memo)(({post,className="",variant:variantProp="vertical"})=>{const variant=(0,propNormalization._O)(variantProp),backgroundImage=((post,variant)=>{if(post.frontmatter?.thumbnail){const imageName="vertical"===variant?post.frontmatter.thumbnail.vertical:post.frontmatter.thumbnail.horizontal;if(imageName)return`/content/blog/${imageName}`}const fallbackImages={vertical:(0,assetUtils.O)(assetUtils.k.VERTICAL_1),horizontal:(0,assetUtils.O)(assetUtils.k.HORIZONTAL_1)};return fallbackImages[variant]||fallbackImages.vertical})(post,variant);return(0,jsx_runtime.jsx)(ContentThumbnailTemplate_view,{post,className,variant,backgroundImage})});ContentThumbnailTemplateContainer.displayName="ContentThumbnailTemplate";const ContentThumbnailTemplate_container=ContentThumbnailTemplateContainer;ContentThumbnailTemplateContainer.__docgenInfo={description:"",methods:[],displayName:"ContentThumbnailTemplate",props:{className:{defaultValue:{value:'""',computed:!1},required:!1},variant:{defaultValue:{value:'"vertical"',computed:!1},required:!1}}}},"./app/hooks/index.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{st:()=>useAnalytics,Ls:()=>useClickOutside,gM:()=>useComponentId,Wd:()=>useFormField,al:()=>useMediaQuery.al,Zl:()=>useSchemaData});var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");function useClickOutside(refs,handler,enabled=!0){(0,react.useEffect)(()=>{if(!enabled)return;const handleClickOutside=event=>{refs.every(ref=>{const element=ref.current;return!element||!element.contains(event.target)})&&handler(event)};return document.addEventListener("mousedown",handleClickOutside),document.addEventListener("touchstart",handleClickOutside),()=>{document.removeEventListener("mousedown",handleClickOutside),document.removeEventListener("touchstart",handleClickOutside)}},[refs,handler,enabled])}function useAnalytics(){const trackEvent=eventData=>{const{event,category="engagement",label,value,...rest}=eventData;window.gtag&&window.gtag("event",event,{event_category:category,event_label:label,value:value??1,...rest})};return{trackEvent,trackCustomEvent:(event,data,callback)=>{callback&&callback({event,...data,timestamp:(new Date).toISOString()}),trackEvent({event,category:"custom",...data})}}}function useComponentId(prefix,providedId){const generatedId=(0,react.useId)(),id=providedId||`${prefix}-${generatedId}`;return{id,labelId:`${id}-label`}}function useFormField(disabled,handlers){const{onChange,onFocus,onBlur}=handlers;return{handleChange:(0,react.useCallback)(e=>{!disabled&&onChange&&onChange(e)},[disabled,onChange]),handleFocus:(0,react.useCallback)(e=>{!disabled&&onFocus&&onFocus(e)},[disabled,onFocus]),handleBlur:(0,react.useCallback)(e=>{!disabled&&onBlur&&onBlur(e)},[disabled,onBlur])}}function useSchemaData(config){return(0,react.useMemo)(()=>{switch(config.type){case"Organization":return{"@context":"https://schema.org","@type":"Organization",name:config.name,...config.email&&{email:config.email},url:config.url,...config.sameAs&&{sameAs:config.sameAs}};case"WebSite":return{"@context":"https://schema.org","@type":"WebSite",name:config.name,url:config.url,...config.potentialAction&&{potentialAction:{"@type":"SearchAction",target:config.potentialAction.target,"query-input":config.potentialAction["query-input"]}}};case"HowTo":return{"@context":"https://schema.org","@type":"HowTo",name:config.name,description:config.description,step:config.steps.map((step,index)=>({"@type":"HowToStep",position:index+1,name:step.name,text:step.text}))};case"Article":return{"@context":"https://schema.org","@type":"Article",headline:config.headline,description:config.description,author:{"@type":"Person",name:config.author},publisher:{"@type":"Organization",name:config.publisher.name,url:config.publisher.url,...config.publisher.logo&&{logo:{"@type":"ImageObject",url:config.publisher.logo}}},datePublished:config.datePublished,dateModified:config.dateModified,url:config.url,...config.mainEntityOfPage&&{mainEntityOfPage:{"@type":"WebPage","@id":config.mainEntityOfPage}},...config.articleSection&&{articleSection:config.articleSection},...config.keywords&&{keywords:config.keywords}};case"BreadcrumbList":return{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:config.items.map((item,index)=>({"@type":"ListItem",position:index+1,name:item.name,item:item.url}))}}},[config])}var useMediaQuery=__webpack_require__("./app/hooks/useMediaQuery.ts")},"./app/hooks/useMediaQuery.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Ub:()=>useMediaQuery,al:()=>useIsMobile});var _barrel_optimize_names_useEffect_useState_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const BREAKPOINTS={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};function useMediaQuery(query,direction="min"){let mediaQuery;if(query in BREAKPOINTS){mediaQuery=`(${direction}-width: ${BREAKPOINTS[query]}px)`}else mediaQuery=query;const[matches,setMatches]=(0,_barrel_optimize_names_useEffect_useState_react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>window.matchMedia(mediaQuery).matches);return(0,_barrel_optimize_names_useEffect_useState_react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{const media=window.matchMedia(mediaQuery),listener=event=>{setMatches(event.matches)};return media.addEventListener?(media.addEventListener("change",listener),()=>media.removeEventListener("change",listener)):(media.addListener(listener),()=>media.removeListener(listener))},[query,direction]),matches}function useIsMobile(){return useMediaQuery("lg","max")}},"./stories/sections/RelatedArticles.stories.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,Empty:()=>Empty,LongTitles:()=>LongTitles,OneArticle:()=>OneArticle,TwoArticles:()=>TwoArticles,__namedExportsOrder:()=>__namedExportsOrder,default:()=>RelatedArticles_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),hooks=__webpack_require__("./app/hooks/index.ts"),ContentThumbnailTemplate=__webpack_require__("./app/components/content/ContentThumbnailTemplate/index.tsx");function RelatedArticlesView({filteredPosts,slugOrder,isMobile,transformStyle,getProgressStyle,onMouseDown}){return 0===filteredPosts.length?null:(0,jsx_runtime.jsx)("section",{className:"py-[var(--spacing-scale-032)] lg:py-[var(--spacing-scale-064)]","data-testid":"related-articles",children:(0,jsx_runtime.jsxs)("div",{className:"flex flex-col gap-[var(--spacing-scale-032)] lg:gap-[51px]",children:[(0,jsx_runtime.jsx)("h2",{className:"text-[32px] lg:text-[44px] leading-[110%] font-medium text-[var(--color-content-inverse-primary)] text-center",children:"Related Articles"}),(0,jsx_runtime.jsx)("div",{className:"flex justify-center overflow-hidden",children:(0,jsx_runtime.jsx)("div",{className:"flex gap-0 transition-transform duration-500 ease-in-out "+(isMobile?"":"overflow-x-auto scrollbar-hide cursor-grab active:cursor-grabbing"),style:transformStyle,onMouseDown:isMobile?void 0:onMouseDown,children:filteredPosts.map(relatedPost=>(0,jsx_runtime.jsx)("div",{className:"flex flex-col items-center flex-shrink-0","data-testid":`related-${relatedPost.slug}`,children:(0,jsx_runtime.jsx)(ContentThumbnailTemplate.A,{post:relatedPost,variant:"vertical",slugOrder})},relatedPost.slug))})}),isMobile&&(0,jsx_runtime.jsx)("div",{className:"flex justify-center gap-[var(--measures-spacing-008)] px-[var(--measures-spacing-064)]",children:filteredPosts.map((relatedPost,index)=>(0,jsx_runtime.jsx)("div",{className:"max-w-[var(--measures-spacing-056)] w-full h-[var(--measures-spacing-004)] bg-gray-200 rounded-full overflow-hidden",children:(0,jsx_runtime.jsx)("div",{className:"h-full bg-gray-600 rounded-full transition-all duration-75 ease-linear",style:getProgressStyle(index)})},relatedPost.slug))})]})})}RelatedArticlesView.__docgenInfo={description:"",methods:[],displayName:"RelatedArticlesView",props:{filteredPosts:{required:!0,tsType:{name:"Array",elements:[{name:"BlogPost"}],raw:"BlogPost[]"},description:""},slugOrder:{required:!0,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},isMobile:{required:!0,tsType:{name:"boolean"},description:""},transformStyle:{required:!0,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:""},getProgressStyle:{required:!0,tsType:{name:"signature",type:"function",raw:"(_index: number) => React.CSSProperties",signature:{arguments:[{type:{name:"number"},name:"_index"}],return:{name:"ReactCSSProperties",raw:"React.CSSProperties"}}},description:""},onMouseDown:{required:!1,tsType:{name:"signature",type:"function",raw:"(_e: React.MouseEvent<HTMLDivElement>) => void",signature:{arguments:[{type:{name:"ReactMouseEvent",raw:"React.MouseEvent<HTMLDivElement>",elements:[{name:"HTMLDivElement"}]},name:"_e"}],return:{name:"void"}}},description:""}}};const RelatedArticlesContainer=(0,react.memo)(({relatedPosts,currentPostSlug,slugOrder=[]})=>{const filteredPosts=(0,react.useMemo)(()=>relatedPosts.filter(post=>post.slug!==currentPostSlug),[relatedPosts,currentPostSlug]),[currentIndex,setCurrentIndex]=(0,react.useState)(0),[progress,setProgress]=(0,react.useState)(0),isMobile=(0,hooks.al)(),handleMouseDown=(0,react.useCallback)(e=>{const slider=e.currentTarget,startX=e.pageX-slider.offsetLeft,scrollLeft=slider.scrollLeft,handleMouseMove=e=>{const walk=2*(e.pageX-slider.offsetLeft-startX);slider.scrollLeft=scrollLeft-walk},handleMouseUp=()=>{document.removeEventListener("mousemove",handleMouseMove),document.removeEventListener("mouseup",handleMouseUp)};document.addEventListener("mousemove",handleMouseMove),document.addEventListener("mouseup",handleMouseUp)},[]),transformStyle=(0,react.useMemo)(()=>({transform:isMobile?`translateX(calc(50% - 130px - ${260*currentIndex}px))`:"none",scrollBehavior:isMobile?"auto":"smooth"}),[isMobile,currentIndex]),getProgressStyle=(0,react.useCallback)(index=>({width:index===currentIndex?`${progress}%`:index<currentIndex?"100%":"0%"}),[currentIndex,progress]);return(0,react.useEffect)(()=>{if(filteredPosts.length<=1||!isMobile)return;const interval=setInterval(()=>{setProgress(0),setCurrentIndex(prev=>(prev+1)%filteredPosts.length)},3e3);return()=>clearInterval(interval)},[filteredPosts.length,isMobile]),(0,react.useEffect)(()=>{if(filteredPosts.length<=1||!isMobile)return;const progressInterval=setInterval(()=>{setProgress(prev=>prev>=100?0:prev+1)},30);return()=>clearInterval(progressInterval)},[currentIndex,filteredPosts.length,isMobile]),(0,jsx_runtime.jsx)(RelatedArticlesView,{filteredPosts,slugOrder,isMobile,transformStyle,getProgressStyle,onMouseDown:handleMouseDown})});RelatedArticlesContainer.displayName="RelatedArticles";const RelatedArticles_container=RelatedArticlesContainer;RelatedArticlesContainer.__docgenInfo={description:"",methods:[],displayName:"RelatedArticles",props:{slugOrder:{defaultValue:{value:"[]",computed:!1},required:!1}}};const mockRelatedPosts=[{slug:"related-article-1",frontmatter:{title:"Related Article One",description:"This is the first related article description.",author:"Author One",date:"2025-01-10"}},{slug:"related-article-2",frontmatter:{title:"Related Article Two",description:"This is the second related article description.",author:"Author Two",date:"2025-01-12"}},{slug:"related-article-3",frontmatter:{title:"Related Article Three",description:"This is the third related article description.",author:"Author Three",date:"2025-01-14"}}],RelatedArticles_stories={title:"Components/Sections/RelatedArticles",component:RelatedArticles_container,parameters:{docs:{description:{component:"The RelatedArticles component displays a carousel of related blog posts with progress bars on mobile and a scrollable slider on desktop."}}},argTypes:{relatedPosts:{control:"object",description:"Array of related blog post objects"},currentPostSlug:{control:"text",description:"Slug of the current post to exclude from related articles"}}},Default={args:{relatedPosts:mockRelatedPosts,currentPostSlug:"current-article"}},TwoArticles={args:{relatedPosts:mockRelatedPosts.slice(0,2),currentPostSlug:"current-article"}},OneArticle={args:{relatedPosts:mockRelatedPosts.slice(0,1),currentPostSlug:"current-article"}},Empty={args:{relatedPosts:[],currentPostSlug:"current-article"}},LongTitles={args:{relatedPosts:[{slug:"long-title-1",frontmatter:{title:"This is a Very Long Article Title That Tests Text Wrapping and Display",description:"This is a longer description that tests how the component handles extended text content.",author:"Author One",date:"2025-01-10"}},{slug:"long-title-2",frontmatter:{title:"Another Very Long Article Title for Testing Purposes",description:"Another longer description for testing text handling in the component.",author:"Author Two",date:"2025-01-12"}},{slug:"long-title-3",frontmatter:{title:"Third Long Article Title to Complete the Set",description:"Final longer description to test the component's text handling capabilities.",author:"Author Three",date:"2025-01-14"}}],currentPostSlug:"current-article"}},__namedExportsOrder=["Default","TwoArticles","OneArticle","Empty","LongTitles"]}}]);